"use strict";
require('../src.cjs');
const require_rollup = require('../rollup.cjs');

//#region src/entrypoints/sveltekit.ts
function SondaSvelteKitPlugin(options = {}) {
	if (options.enabled === false) return { name: "sonda" };
	options.format ??= "html";
	options.filename ??= `sonda-report-[env].${options.format}`;
	if (!options.filename.includes("[env]")) throw new Error("SondaSvelteKitPlugin: The \"filename\" option must include the \"[env]\" token.");
	return {
		apply: "build",
		configResolved(config) {
			const env = config.build.ssr ? "server" : "client";
			const generateForServer = options.server ?? false;
			if (env === "server" && !generateForServer) options.enabled = false;
			options.filename = options.filename.replace("[env]", env);
		},
		...require_rollup.SondaRollupPlugin(options)
	};
}

//#endregion
module.exports = SondaSvelteKitPlugin;
//# sourceMappingURL=sveltekit.cjs.map